(function(e){"use strict";var t=function(t,n){var r=this.$element=e(t);this.options=e.extend({},e.fn.multiselector.defaults,n),this.$element.find("ul a").click(function(t){var n=e(this).find("input[type=checkbox]").first();n.length?(t.stopPropagation(),n.prop("checked",!n[0].checked)):r.find("input[type=checkbox]").prop("checked",!1),r.multiselector("update"),t.preventDefault()})};t.prototype={constructor:t,update:function(){var t=this.$element,n=t.find("input[type=checkbox]:checked"),r=t.find("ul>li:first-child>a").text(),i=e(t.find("a > span:first-child")),s=t.data("multipleText")||this.options.multipleText,o=t.data("visibleItems")||this.options.visibleItems,u=t.data("separator")||this.options.separator;n.length===0?i.text(r):n.length===1?i.text(e(n[0]).parent().text()):n.length<=o?i.text(n.map(function(){return e(this).parent().text()}).get().join(u)):i.text(s)}},e.fn.multiselector=function(n){return this.each(function(){var r=e(this),i=r.data("multiselector"),s=typeof n=="object"&&n;i||r.data("multiselector",i=new t(this,s)),n==="update"&&i.update()})},e.fn.multiselector.defaults={multipleText:"Multiple Items",visibleItems:2,separator:", "},e.fn.multiselector.Constructor=t,e(function(){e("body").on("focus.multiselector.data-api",'[data-provide="multiselector"]',function(t){var n=e(t.target);n.hasClass("multi-selector")||(n=n.closest(".multi-selector")),n.multiselector("update")}),e(".multi-selector").multiselector("update")})})(window.jQuery);